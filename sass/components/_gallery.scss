.carousel-container {
    --gap: 2em;
    --navBtnImgWidth: 40px;
    --navBtnPad: 10px;
    --scrolbarWidth: 15px;
    --cardsToShow: 1;
    --maxWidth: 100vw;
    --imgWidthCalc: calc((var(--maxWidth) - ((2 * var(--navBtnImgWidth)) + (4 * var(--navBtnPad)) + ((var(--cardsToShow) - 1) * var(--gap)) + var(--scrolbarWidth))) / var(--cardsToShow));
    --animationTimer: .5s;
    max-width: 100vw;
    overflow: hidden;
    display: flex;
    justify-content: space-between;
}
.project-cell .carousel-container {
    --gap: .25em;
    --scrolbarWidth: 0px;
    --cardsToShow: 2;
    --maxWidth: 400px;
    --navBtnImgWidth:1rem;
    --imgWidthCalc: calc((var(--maxWidth) - (var(--cardsToShow) - 1) * var(--gap)) / var(--cardsToShow));
    max-width: var(--maxWidth);
    min-width:var(--maxWidth);
    margin:0 auto 1em auto;
    position:relative;
    padding-bottom:2em;
}
.carousel-container ul[data-rotate="left"] {    
    margin-left: calc(0px - (var(--imgWidthCalc) * 2));
    animation:var(--animationTimer) rotateLeft ease-in-out;
}
.project-cell .carousel-container ul[data-rotate="left"] {
    margin-left: calc(0px - (var(--imgWidthCalc)));
}
.carousel-container li[data-appended="true"] {    
    animation:var(--animationTimer) fadein linear;
}
.carousel-container ul li {
    opacity:0;
    scale: 1;
    transition:var(--animationTimer) opacity linear, var(--animationTimer) scale linear;
}
@keyframes fadein {
    0% {
        opacity: 0;
        transform:scale(.75);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
@keyframes rotateLeft {
    0% {
        transform: translateX(calc(0px - var(--gap)));
    }
    100% {
        transform: translateX(var(--imgWidthCalc));        
    }
}

.carousel-container ul[data-rotate="right"] {
    animation:var(--animationTimer) rotateRight ease-in-out;
}
@keyframes rotateRight {
    0% {
        transform: translateX(0);
    }

    100% {
        transform: translateX(calc(0px - (var(--imgWidthCalc) + var(--gap))));
    }
}
[data-carousel-navigation] {
    display: block;
    border: none;
    background: var(--clr-accent2);
    padding: 0 var(--navBtnPad);    
    position:relative;
    z-index:2;
}
[data-carousel-navigation]:last-child {
    rotate: 180deg;        
}
.project-cell [data-carousel-navigation] {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-4.5rem) translateY(0);
}
.project-cell [data-carousel-navigation]:last-child {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-2rem) translateY(0);
}

[data-carousel-navigation] img {
    display: block;
    min-width: var(--navBtnImgWidth);
    opacity: .4;
    scale: .8;
    transition: .5s opacity linear;    
}
[data-carousel-navigation]:hover img {    
    opacity: .7;        
}
[data-carousel] {
    padding:0;
    list-style: none;
    display: flex;    
    gap:var(--gap);
    max-width:calc(100% - ((2 * var(--navBtnImgWidth)) + (4 * var(--navBtnPad))));    
}
[data-carousel] img {
    max-width: unset;
    box-shadow: var(--box-shadow);
    width: var(--imgWidthCalc);
    display:block;    
    transition:.5s filter ease-in-out;
}

.project-cell .carousel-container button {
    color:var(--clr-dark-400);
    background:transparent;
    border:none;
    display:flex;
    align-items:center;
}
.project-cell .carousel-container [data-carousel-navigation] img{
    width:1rem;    
}
.project-cell [data-image-button] {
    border:none;
    background:transparent;
}
.carousel-container ul li:nth-child(n+0):nth-child(-n+1) {
    opacity: 1;
    transform: scale(1);
    transition: var(--animationTimer) opacity linear, var(--animationTimer) transform ease-in-out;
}

.carousel-container ul[data-rotate="right"] li:nth-child(2) {
    opacity: 1;
    transform: scale(1);
    transition: var(--animationTimer) opacity linear, var(--animationTimer) transform ease-in-out;
}
.project-cell .carousel-container {
    --gap: .25em;
    --scrolbarWidth: 0;
    --cardsToShow: 1;
    --maxWidth: 280px;
}

@media(min-width:500px) {
    .carousel-container {
        --cardsToShow: 2;        
    }
    .carousel-container ul li:nth-child(n+0):nth-child(-n+2) {
        opacity:1;        
        transform: scale(1);
    }
    .carousel-container ul[data-rotate="right"] li:nth-child(3) {
        opacity:1;        
        transform: scale(1);
    }
    .project-cell .carousel-container {
        --gap: .25em;
        --scrolbarWidth: 0;
        --cardsToShow: 2;
        --maxWidth: 400px;
    }    
}
@media(min-width:800px) and (max-width:1299px) {
    .carousel-container {
        --gap: 2rem;
        --navBtnImgWidth: 40px;
        --navBtnPad: 10px;
        --scrolbarWidth: 15px;
        --cardsToShow: 3;
        
    }
    .carousel-container ul li:nth-child(n+0):nth-child(-n+3) {
        opacity:1;        
        transform: scale(1);
    }
    .carousel-container ul li:nth-child(2),
    .carousel-container ul[data-rotate="right"] li:nth-child(3) {        
        scale: 1.3;        
        z-index:2;
    }
    .carousel-container ul[data-rotate="right"] li:nth-child(2) {
        scale: 1;        
    }
    [data-carousel] li:nth-child(2) img,
    [data-carousel][data-rotate="right"] li:nth-child(3) img {
        filter:brightness(1);
    }
    .carousel-container ul[data-rotate="right"] li:nth-child(4) {
        opacity:1;        
        transform: scale(1);
    }
    [data-carousel] img {
        filter:brightness(.5);
    }    
}
@media(min-width:1300px) {
    .carousel-container {
        --gap: .5rem;
        --navBtnImgWidth: 40px;
        --navBtnPad: 15px;
        --scrolbarWidth: 15px;
        --cardsToShow: 5;
    }
    .carousel-container ul li:nth-child(n+0):nth-child(-n+5) {
        opacity:1;        
        transform: scale(1);
    }
    .carousel-container ul li:nth-child(3),
    .carousel-container ul[data-rotate="right"] li:nth-child(4) {        
        scale: 1.3;        
        z-index:2;
    }
    .carousel-container ul[data-rotate="right"] li:nth-child(3) {
        scale: 1;        
    }
    [data-carousel] li:nth-child(3) img,
    [data-carousel][data-rotate="right"] li:nth-child(4) img {
        filter:brightness(1);
    }
    .carousel-container ul[data-rotate="right"] li:nth-child(6) {
        opacity:1;        
        transform: scale(1);
    }
    .project-cell .carousel-container {
        --gap: .25em;
        --scrolbarWidth: 0;
        --cardsToShow: 2;
        --maxWidth: 400px;        
    }
    [data-carousel] img {
        filter:brightness(.5);
    }   
}
.carousel-container ul[data-rotate="right"] li:first-child {
    opacity: 0;
    transform: scale(.75);
    transition: var(--animationTimer) opacity linear, var(--animationTimer) transform ease-in-out;
}

[data-carousel] .image-container + p {
    text-shadow: var(--box-shadow);
    max-width: 22ch;
    margin: auto;
    text-transform: uppercase;
    line-height: 1.25;
    text-align: center;
    font-size:1.15rem;
    font-family:var(--ff-heading);
    font-weight:700;
    padding:.5em 0;
    font-size:clamp(1rem, 1.75vw, 1.15rem);
}
#video-container {
    display:none;
    align-items:center;
    justify-content: center;;
    z-index:10;
}
#video-container.active {
    display:flex;
}
#video-container > div:not(.video-close-shade) {
    position:relative;
    width:100%;
    max-width:calc(100% - 2rem);
    z-index:3;
}
#video-container iframe {
    display:none;
}
#video-container iframe.active {
    display:block;
    height:400px;
    width:700px; 
    max-width:100%;   
    margin:auto;
}
#video-container > .video-close-shade {
    position:absolute;
    inset:0 0 0 0;
    z-index:2;
}